<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Todo List</title>
        <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
            rel="stylesheet"
            integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
            crossorigin="anonymous"
        />
    </head>
    <body>
        <div style="margin-top: 100px" class="container">
            <h3>Todo List</h3>
            <hr />

            <form action="/add" method="post">
                <div class="form-group">
                    <label for="exampleInputEmail1">Başlık</label>
                    <input
                        type="text"
                        name="title"
                        class="form-control"
                        id="title"
                        aria-describedby="emailHelp"
                        placeholder="Başık"
                    />
                </div>
                <div class="form-group">
                    <label for="exampleInputPassword1">İçerik</label>
                    <textarea
                        type="text"
                        name="content"
                        class="form-control"
                        id="content"
                        placeholder="İçerik"
                    ></textarea>
                </div>
                <br />
                <button type="submit" class="btn btn-primary">Ekle</button>
            </form>
            <br />

            {% if todos == [] %}
            <div class="alert alert-warning" role="alert">
                Her hangi bir todonuz bulunmuyor...
            </div>
            {% else %}
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">id</th>
                        <th scope="col">Başlık</th>
                        <th scope="col">İçerik</th>
                        <th scope="col">Durum</th>
                        <th scope="col">Güncelle</th>
                        <th scope="col">Sil</th>
                    </tr>
                </thead>
                <tbody>
                    {% for todo in todos %}
                    <tr>
                        <th scope="row">{{todo.id}}</th>
                        <td>{{todo.title}}</td>
                        <td>{{todo.content}}</td>
                        {% if todo.complete == False %}
                        <td>Tamamlanmadı</td>
                        {% else %}
                        <td>Tamamlandı</td>
                        {% endif %}
                        <td>
                            <a
                                href="/complete/{{todo.id}}"
                                class="btn btn-danger"
                                >Tamamla</a
                            >
                        </td>
                        <td>
                            <a href="/delete/{{todo.id}}" class="btn btn-danger"
                                >Sil</a
                            >
                        </td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
            {% endif %}
        </div>

        <script
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
            crossorigin="anonymous"
        ></script>
    </body>
</html>
